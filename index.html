<!DOCTYPE HTML>
<html>
<head>
    <title>Serious Game</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <style>
        /* Isolate custom styles within #custom-game */
        #custom-game .card-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px;
            z-index: 100; /* Ensure cards are above other elements */
            position: relative; /* Required for z-index to work */
        }

        #custom-game .card {
            position: relative;
            text-align: center;
            border: 2px solid red; /* Debugging: Highlight the card container */
        }

        #custom-game .card img {
            width: 100%;
            max-width: 300px;
            height: 200px; /* Set a fixed height for consistency */
            border-radius: 10px;
            border: 2px solid blue; /* Debugging: Highlight the images */
        }

        #custom-game .front {
            display: block !important; /* Ensure front images are visible */
        }

        #custom-game .back {
            display: none !important; /* Ensure back images are hidden */
        }

        #custom-game .card button {
            margin-top: 10px;
            padding: 10px 20px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #custom-game .card button:hover {
            background-color: #0056b3;
        }
    </style>
    <script>
        // Function to flip the card between recto and verso
        function flipCard(button) {
            const card = button.parentElement;
            const front = card.querySelector('.front');
            const back = card.querySelector('.back');
            if (front.style.display === 'none') {
                front.style.display = 'block';
                back.style.display = 'none';
            } else {
                front.style.display = 'none';
                back.style.display = 'block';
            }
        }

        // Function to generate the HTML for the cards
        function generateCardsHTML(totalCards) {
            let cardsHTML = '';
            for (let i = 1; i <= totalCards; i += 2) {
                const rectoIndex = i;        // Odd number for recto
                const versoIndex = i + 1;    // Even number for verso
                const rectoPath = `images/carte_3_${rectoIndex}.jpg`;
                const versoPath = `images/carte_3_${versoIndex}.jpg`;
                console.log(`Recto: ${rectoPath}, Verso: ${versoPath}`); // Debugging: Log paths
                cardsHTML += `
                    <div class="card">
                        <img src="${rectoPath}" alt="Carte ${rectoIndex} Recto" class="front">
                        <img src="${versoPath}" alt="Carte ${versoIndex} Verso" class="back">
                        <button onclick="flipCard(this)">Switch Recto/Verso</button>
                    </div>
                `;
            }
            return cardsHTML;
        }

        // Inject the generated content into the page after the DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            const cardGallery = document.querySelector('#custom-game .card-gallery');
            cardGallery.innerHTML = generateCardsHTML(22);
        });
    </script>
</head>
<body>

<!-- Wrapper -->
<div id="wrapper">

    <!-- Header -->
    <header id="header">
        <div class="logo">
            <span class="icon fa-gem"></span>
        </div>
        <div class="content">
            <div class="inner">
                <h1>Serious Game</h1>
                <p>Bienvenue dans le Serious Game - Gestion de Projet</p>
            </div>
        </div>
    </header>

    <!-- Main -->
    <div id="main">
        <article id="game">
            <h2 class="major">Cartes de Gestion de Projet</h2>
            <!-- Isolate custom code within #custom-game -->
            <div id="custom-game">
                <div class="card-gallery">
                    <!-- Cards will be generated here -->
                </div>
            </div>
        </article>
    </div>

</div>

<!-- Background -->
<div id="bg"></div>

</body>
</html>